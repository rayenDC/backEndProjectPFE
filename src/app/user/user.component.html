<div class="user-page">
  <div *ngIf="message" class="message">{{ message }}</div>

  <div class="user-header">
    <h1>User Management</h1>
    <button (click)="openAddPopup()" class="add-btn">Add User</button>
  </div>

  <!-- User List -->
  <ul *ngIf="users.length > 0" class="user-list">
    <li *ngFor="let user of users" class="user-item">
      <div>
        <strong>Name:</strong> {{ user.name }}<br />
        <strong>Email:</strong> {{ user.email }}<br />
        <strong>Phone:</strong> {{ user.phoneNumber }}<br />
        <strong>Role:</strong> {{ user.role }}
      </div>
      <div class="user-actions">
        <button (click)="handleEditUser(user)">Edit</button>
        <button class="delete-btn" (click)="handleDeleteUser(user.id)">Delete</button>
      </div>
    </li>
  </ul>

  <!-- Popup Modal -->
  <div *ngIf="showEditPopup" class="modal-backdrop">
    <div class="modal-content">
      <h2>{{ isEditing ? 'Edit User' : 'Add User' }}</h2>

      <input type="text" [(ngModel)]="userName" placeholder="Name" />
      <input type="email" [(ngModel)]="userEmail" placeholder="Email" />
      <input type="text" [(ngModel)]="userPhoneNumber" placeholder="Phone Number" />
      <input type="password" [(ngModel)]="userPassword" placeholder="Password" />
      <select [(ngModel)]="userRole">
        <option value="ADMIN">ADMIN</option>
        <option value="MANAGER">MANAGER</option>
      </select>

      <div class="modal-buttons">
        <button (click)="isEditing ? editUser() : addUser()">
          {{ isEditing ? 'Save Changes' : 'Add User' }}
        </button>
        <button (click)="closePopup()">Cancel</button>
      </div>
    </div>
  </div>
</div>
